{% extends "base.html" %} 
{% block title %}Add Product{% endblock %} 
{% block content %}
<head>
    <style>
    .preview {
        width: 200px;
        height: 200px;
        border: 2px dashed black;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }
    .preview img {
        max-width: 100%;
        max-height: 100%;
        display: none;
    }

    .submit-button {
        display: flex;
        justify-content: center; 
        margin-top: 20px;
    }
    </style>
</head>

<form method="POST" enctype="multipart/form-data">
  <h3>Add Product</h3>

  <div class="row-1">
    <label for="name">Name:</label>
    <input type="text" class="add-control" id="name" name="name" required />
  </div>

  <div class="row-1">
    <label for="TEFAP">TEFAP:</label>
    <input type="radio" id="tefap-yes" name="TEFAP" value="Yes" required />
    <label for="tefap-yes">Yes</label>
    <input type="radio" id="tefap-no" name="TEFAP" value="No" required />
    <label for="tefap-no">No</label>
  </div>

  <div class="row-1">
    <label for="location">Location:</label>
    <input type="text" class="add-control" id="location" name="location" required />
  </div>

  <div class="row-1">
    <label for="quantity">Quantity:</label>
    <input type="number" class="add-control" id="quantity" name="quantity" min="0" required />
  </div>

  <div class="row-1">
    <label for="alertNum">Alert Quantity: </label>
    <input type="number" class="add-control" id="alertNum" name="alertNum" min="0" required />
  </div>

  <div class="row-2">
    <label for="date-arrived">Date Arrived:</label>
    <input type="date" class="add-control" id="date-arrived" name="date-arrived" required />
  </div>

  <div class="row-2">
    <label for="best-by">Best By:</label>
    <input type="date" class="add-control" id="best-by" name="best-by" required />
  </div>

  <div class="row-2">
    <label for="past_best_by">Past Best By:</label>
    <select class="add-control" id="past_best_by" name="past_best_by" required>
      <option value="5-days">5 days</option>
      <option value="1-month">1 month</option>
      <option value="6-months">6 months</option>
    </select>
  </div>

  <div class="row-2">
    <label for="exp">Expiration Date:</label>
    <input type="date" class="add-control" id="exp" name="exp" required readonly />
  </div>

  <div class="row-2">
    <div class="preview" id="imagePreview">
        <img id="previewImg" src="" alt="Image Preview">
    </div>
    <label for="image">Image Upload:</label>
    <input type="file" id="imageUpload" name="image" accept="image/*" required />
  </div>

  <script>
    document.getElementById('imageUpload').addEventListener('change', function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const img = document.getElementById('previewImg');
                img.src = e.target.result;
                img.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    });
  </script>

  <br />
  <div class="submit-button">
    <button type="submit" class="btn btn-primary">Add Product</button>
  </div>
</form>
{% endblock %}